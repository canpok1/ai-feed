---
argument-hint: [PR番号（#付き)]
description: プルリクエスト対応用の開発タスクを作成する
---

PR $ARGUMENTS にレビューコメントが投稿されました。
以下の手順でタスクを作成してください。

1. レビューコメントを確認する
    ```bash
    ./scripts/get-pr-review-comments.sh $ARGUMENTS
    ```
2. 必要に応じてスレッドの詳細を確認する（コンテキストが必要な場合）
    ```bash
    ./scripts/get-pr-review-thread-details.sh "THREAD_ID"
    ```
3. コメント1件ごとに、内容を確認して以下を行う。
    - レビュワーからの意見を表すもの、かつ対応が必要だと判断した場合
        - 「レビューコメントを元に対応する」という内容のタスクファイルを tmp/todo フォルダ配下に作成する
    - レビュワーからの意見を表すもの、かつ対応が不要だと判断した場合
        - 「レビューコメントに対応不要である旨の意見を返信する」という内容のタスクファイルを tmp/todo フォルダ配下に作成する
    - レビュワーからの承認を表すものである場合
        - 「レビューコメントをresolveする」という内容のタスクファイルを tmp/todo フォルダ配下に作成する

## タスクファイルのフォーマット

### ファイル名

pr_{PRの番号}_task_{2桁0埋めの1からの連番}_{タスク概要(英語)}.md

例）PR #1 に対するタスクの場合、 `pr_1_task_01_sample_task.md` となる

### ファイル内容のテンプレート

```
## 対応内容の概要

## 対応内容の詳細

### レビューコメント情報

- PR番号: {PRの番号を記載する}
- レビュースレッドID: {レビュースレッドIDを記載する}
- 投稿者: {レビューコメントの投稿者名を記載する}

### 編集対象ファイル

### 完了条件

- コメントが対応の必要性を表すもの、かつ対応が必要だと判断した場合
    - [ ] 対応を行いコミット・プッシュすること
    - [ ] コメントに対して返信すること
    - [ ] レビュースレッドをresolveしていないこと
- コメントが対応の必要性を表すものである場合
    - [ ] コメントに対して返信すること
    - [ ] レビュースレッドをresolveしていないこと
- コメントがレビュワーの承認を表すものである場合
    - [ ] レビュースレッドをresolveしていること

### 備考
- コメントの返信やresolveは以下を参考にする
    - スレッドの詳細を確認するコマンド。THREAD_IDはレビュースレッドIDに置き換えること。
        - `./scripts/get-pr-review-thread-details.sh "THREAD_ID"`
    - 返信するためのコマンド。THREAD_IDはレビュースレッドIDに置き換えること。
        - `echo "コメント内容" | ./scripts/reply-to-review-thread.sh "THREAD_ID"`
    - resolveするためのコマンド。THREAD_IDはレビュースレッドIDに置き換えること。
        - `./scripts/resolve-review-thread.sh "THREAD_ID"`
```
